{% extends 'base.html' %}
{% block content %}
<h2>My Orders</h2>
{% if orders %}
<div class="user-orders-list">
  {% for order in orders %}
  <div class="user-order-card">
    <div class="user-order-header">
      <div class="user-order-id">
        <a href="{{ url_for('order_success', order_id=order.id) }}">#{{ order.id }}</a>
      </div>
      <div class="user-order-status">
        <span class="status {% if order.payment_status == 'paid' %}paid{% elif order.payment_status == 'pending' %}pending{% else %}failed{% endif %}">{{ order.payment_status|upper }}</span>
      </div>
    </div>
    <div class="user-order-details">
      <div class="detail-row">
        <span class="detail-label">Date:</span>
        <span class="detail-value">{{ order.created_at.split('T')[0] }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Total:</span>
        <span class="detail-value">â‚¹{{ '%.2f'|format(order.total_amount) }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Delivery:</span>
        <span class="detail-value">{{ order.estimated_delivery_date or 'TBD' }}</span>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<p>No orders yet. <a href="{{ url_for('index') }}">Start shopping!</a></p>
{% endif %}
{% endblock %}
